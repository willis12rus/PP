#Лабораторная работа №1

>Работа с потоками

##Цели и задачи
Получить навыки создания, выполнения кода в потоке, передачи параметров в поток, ожидания окончания всех потоков.

##Постановка задачи
Реализовать программу, создающую N потоков, в каждый из которых передается его порядковый номер (1, 2, …, N). Каждый поток выводит на экран текст «Поток №<номер потока> выполняет свою работу», где <номер потока> - порядковый номер потока, переданный ему в качестве параметра.

##Требования
 - Реализовать консольное приложение на С++, для работы с потоками использовать функцию CreateThread (Windows SDK).
 - Количество потоков передавать приложению в командной строке.
 - Приложение должно ожидать окончание работы всех потоков после чего корректно завершаться. Для ожидания окончания работы все потоков используйте функцию WaitForMultipleObjects (Windows SDK).
 - Разработать и сдать программу на занятии.
 
Пример запуска потоков
```bash
#include "stdafx.h"
#include <windows.h>
#include <string>
#include <iostream>
 
DWORD WINAPI ThreadProc(CONST LPVOID lpParam)
{
//
// ?? тут выполняется полезная работа потока
//
 
ExitThread(0); // функция устанавливает код завершения потока в 0
}
 
int _tmain(int argc, _TCHAR* argv[])
{
// создание двух потоков
   	HANDLE* handles = new HANDLE[2];
   	handles[0] = CreateThread(NULL, 0, &ThreadProc, NULL, CREATE_SUSPENDED, NULL);
   	handles[1] = CreateThread(NULL, 0, &ThreadProc, NULL, CREATE_SUSPENDED, NULL);
 
// запуск двух потоков
   	ResumeThread(handles[0]);
   	ResumeThread(handles[1]);
      
// ожидание окончания работы двух потоков
   	WaitForMultipleObjects(2, handles, true, INFINITE);
   	return 0;
}

```
